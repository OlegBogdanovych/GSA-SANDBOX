39.0 APEX_CODE,FINEST;APEX_PROFILING,INFO;CALLOUT,INFO;DB,INFO;SYSTEM,DEBUG;VALIDATION,INFO;VISUALFORCE,INFO;WAVE,INFO;WORKFLOW,INFO
Execute Anonymous: List <User> users = [select Id, Name, AccountId__c from User where AccountId__c = null and isActive = true and Profile.Name = 'Gsa Hoofdgebruiker'];
Execute Anonymous: System.debug(users.size() + ' ' + users);
Execute Anonymous: List <Projecten__c> projects = [select Id, Account__c from Projecten__c ];
Execute Anonymous: System.debug(projects.size());
Execute Anonymous: Map <Id, List <Projecten__c>> projectsByAccId = new Map <Id, List <Projecten__c>>();
Execute Anonymous: for (Projecten__c pr: projects) {
Execute Anonymous:     if(projectsByAccId.containsKey(pr.Account__c)){
Execute Anonymous:         projectsByAccId.get(pr.Account__c).add(pr);
Execute Anonymous:     } else {
Execute Anonymous:         projectsByAccId.put(pr.Account__c, new List <Projecten__c>{pr});
Execute Anonymous:     }
Execute Anonymous: }
Execute Anonymous: List <Projecten__Share> shares = new List <Projecten__Share>();
Execute Anonymous: for (User user: users){
Execute Anonymous:     if (user.AccountId__c != null && projectsByAccId.containsKey(user.AccountId__c)) {
Execute Anonymous:         System.debug(user + ' ' + projectsByAccId.get(user.AccountId__c).size());
Execute Anonymous:         for (Projecten__c pr: projectsByAccId.get(user.AccountId__c)) {
Execute Anonymous:             shares.add(new Projecten__Share(ParentId = pr.Id, AccessLevel = 'Edit', UserOrGroupId = user.id));
Execute Anonymous:         }
Execute Anonymous:         
Execute Anonymous:     } else if (user.AccountId__c == null){
Execute Anonymous:         System.debug('for non acco');
Execute Anonymous:         for (Projecten__c pr: projects) {
Execute Anonymous:             shares.add(new Projecten__Share(ParentId = pr.Id, AccessLevel = 'Edit', UserOrGroupId = user.id));
Execute Anonymous:         }
Execute Anonymous:     }
Execute Anonymous: }
Execute Anonymous: System.debug(shares.size() + ' ' + shares);
Execute Anonymous: insert shares;
15:25:14.1 (1020430)|USER_INFO|[EXTERNAL]|00524000001e3Uj|bedrijfsbureau@gsa.nl.sandbox|Midden-Europese standaardtijd|GMT+01:00
15:25:14.1 (1032646)|EXECUTION_STARTED
15:25:14.1 (1035989)|CODE_UNIT_STARTED|[EXTERNAL]|execute_anonymous_apex
15:25:14.1 (1233720)|VARIABLE_SCOPE_BEGIN|[3]|projects|List<Projecten__c>|true|false
15:25:14.1 (1276735)|VARIABLE_SCOPE_BEGIN|[5]|projectsByAccId|Map<Id,List<Projecten__c>>|true|false
15:25:14.1 (1315110)|VARIABLE_SCOPE_BEGIN|[13]|shares|List<Projecten__Share>|true|false
15:25:14.1 (1334098)|VARIABLE_SCOPE_BEGIN|[1]|users|List<User>|true|false
15:25:14.1 (1451399)|HEAP_ALLOCATE|[72]|Bytes:3
15:25:14.1 (1486840)|HEAP_ALLOCATE|[77]|Bytes:152
15:25:14.1 (1499076)|HEAP_ALLOCATE|[342]|Bytes:408
15:25:14.1 (1513451)|HEAP_ALLOCATE|[355]|Bytes:408
15:25:14.1 (1526067)|HEAP_ALLOCATE|[467]|Bytes:48
15:25:14.1 (1551504)|HEAP_ALLOCATE|[139]|Bytes:6
15:25:14.1 (1570712)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:54
15:25:14.1 (1823269)|STATEMENT_EXECUTE|[1]
15:25:14.1 (1825813)|STATEMENT_EXECUTE|[1]
15:25:14.1 (1829095)|HEAP_ALLOCATE|[1]|Bytes:127
15:25:14.1 (1839222)|HEAP_ALLOCATE|[1]|Bytes:4
15:25:14.1 (1878558)|HEAP_ALLOCATE|[50]|Bytes:5
15:25:14.1 (1897389)|HEAP_ALLOCATE|[56]|Bytes:5
15:25:14.1 (1903853)|HEAP_ALLOCATE|[64]|Bytes:7
15:25:14.1 (2219890)|SOQL_EXECUTE_BEGIN|[1]|Aggregations:0|SELECT Id, Name, AccountId__c FROM User WHERE (AccountId__c = NULL AND isActive = TRUE AND Profile.Name = 'Gsa Hoofdgebruiker')
15:25:14.1 (34582816)|SOQL_EXECUTE_END|[1]|Rows:2
15:25:14.1 (34600293)|HEAP_ALLOCATE|[1]|Bytes:12
15:25:14.1 (34617554)|HEAP_ALLOCATE|[1]|Bytes:165
15:25:14.1 (34644577)|HEAP_ALLOCATE|[1]|Bytes:12
15:25:14.1 (34692525)|VARIABLE_ASSIGNMENT|[1]|users|[{"Id":"00524000001tIB8AAM","Name":"Spoorlaan HUB","ProfileId":"00e24000000JFH3AAO"},{"Id":"00524000001tIBIAA2","Name":"Duncan Bos Otten","ProfileId":"00e24000000JFH3AAO"}]|0x25752192
15:25:14.1 (34697521)|STATEMENT_EXECUTE|[2]
15:25:14.1 (34783554)|HEAP_ALLOCATE|[2]|Bytes:1
15:25:14.1 (34791542)|HEAP_ALLOCATE|[2]|Bytes:1
15:25:14.1 (34851446)|HEAP_ALLOCATE|[2]|Bytes:163
15:25:14.1 (34866143)|HEAP_ALLOCATE|[2]|Bytes:165
15:25:14.1 (34887209)|USER_DEBUG|[2]|DEBUG|2 (User:{Id=00524000001tIB8AAM, Name=Spoorlaan HUB, ProfileId=00e24000000JFH3AAO}, User:{Id=00524000001tIBIAA2, Name=Duncan Bos Otten, ProfileId=00e24000000JFH3AAO})
15:25:14.1 (34893353)|STATEMENT_EXECUTE|[3]
15:25:14.1 (34896045)|HEAP_ALLOCATE|[3]|Bytes:39
15:25:14.1 (34901245)|HEAP_ALLOCATE|[3]|Bytes:4
15:25:14.1 (35093616)|SOQL_EXECUTE_BEGIN|[3]|Aggregations:0|SELECT Id, Account__c FROM Projecten__c
15:25:14.1 (43862968)|SOQL_EXECUTE_END|[3]|Rows:3
15:25:14.1 (43876968)|HEAP_ALLOCATE|[3]|Bytes:16
15:25:14.1 (43887508)|HEAP_ALLOCATE|[3]|Bytes:183
15:25:14.1 (43908986)|HEAP_ALLOCATE|[3]|Bytes:16
15:25:14.1 (43935602)|VARIABLE_ASSIGNMENT|[3]|projects|[{"Id":"a0q0E0000008S3WQAU","Account__c":"0010E000002eEwIQAU"},{"Id":"a0q0E0000008S3bQAE","Account__c":"0010E000002eEwIQAU"},{"Id":"a0q0E0000008ahlQAA","Account__c":"0010E000002eEwIQAU"}]|0x5cf6e86
15:25:14.1 (43940181)|STATEMENT_EXECUTE|[4]
15:25:14.1 (43994638)|USER_DEBUG|[4]|DEBUG|3
15:25:14.1 (43999486)|STATEMENT_EXECUTE|[5]
15:25:14.1 (44004035)|HEAP_ALLOCATE|[5]|Bytes:4
15:25:14.1 (44038953)|VARIABLE_ASSIGNMENT|[5]|projectsByAccId|{}|0x1940867c
15:25:14.1 (44200640)|HEAP_ALLOCATE|[6]|Bytes:5
15:25:14.1 (44237000)|HEAP_ALLOCATE|[6]|Bytes:12
15:25:14.1 (44246119)|VARIABLE_SCOPE_BEGIN|[6]|pr|Projecten__c|true|false
15:25:14.1 (44260576)|VARIABLE_ASSIGNMENT|[6]|pr|{"Id":"a0q0E0000008S3WQAU","Account__c":"0010E000002eEwIQAU"}|0x6e2dd3a0
15:25:14.1 (44264136)|STATEMENT_EXECUTE|[6]
15:25:14.1 (44326817)|STATEMENT_EXECUTE|[9]
15:25:14.1 (44329010)|STATEMENT_EXECUTE|[10]
15:25:14.1 (44339025)|HEAP_ALLOCATE|[10]|Bytes:4
15:25:14.1 (44371699)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:8
15:25:14.1 (44376307)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:-4
15:25:14.1 (44387279)|HEAP_ALLOCATE|[6]|Bytes:5
15:25:14.1 (44410845)|HEAP_ALLOCATE|[6]|Bytes:12
15:25:14.1 (44417068)|VARIABLE_SCOPE_BEGIN|[6]|pr|Projecten__c|true|false
15:25:14.1 (44427847)|VARIABLE_ASSIGNMENT|[6]|pr|{"Id":"a0q0E0000008S3bQAE","Account__c":"0010E000002eEwIQAU"}|0x6f7591ec
15:25:14.1 (44430770)|STATEMENT_EXECUTE|[6]
15:25:14.1 (44444202)|STATEMENT_EXECUTE|[7]
15:25:14.1 (44445553)|STATEMENT_EXECUTE|[8]
15:25:14.1 (44483853)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (44494332)|HEAP_ALLOCATE|[6]|Bytes:5
15:25:14.1 (44514673)|HEAP_ALLOCATE|[6]|Bytes:12
15:25:14.1 (44520014)|VARIABLE_SCOPE_BEGIN|[6]|pr|Projecten__c|true|false
15:25:14.1 (44529252)|VARIABLE_ASSIGNMENT|[6]|pr|{"Id":"a0q0E0000008ahlQAA","Account__c":"0010E000002eEwIQAU"}|0x3eef5bfb
15:25:14.1 (44531925)|STATEMENT_EXECUTE|[6]
15:25:14.1 (44544365)|STATEMENT_EXECUTE|[7]
15:25:14.1 (44545558)|STATEMENT_EXECUTE|[8]
15:25:14.1 (44561379)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (44570269)|HEAP_ALLOCATE|[6]|Bytes:5
15:25:14.1 (44579047)|VARIABLE_ASSIGNMENT|[6]|pr|null|
15:25:14.1 (44581357)|STATEMENT_EXECUTE|[13]
15:25:14.1 (44585728)|HEAP_ALLOCATE|[13]|Bytes:4
15:25:14.1 (44618984)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (44625188)|VARIABLE_ASSIGNMENT|[13]|shares|[]|0x3e5f2f55
15:25:14.1 (44690317)|HEAP_ALLOCATE|[14]|Bytes:5
15:25:14.1 (44718741)|HEAP_ALLOCATE|[14]|Bytes:16
15:25:14.1 (44725649)|VARIABLE_SCOPE_BEGIN|[14]|user|User|true|false
15:25:14.1 (44736692)|VARIABLE_ASSIGNMENT|[14]|user|{"Id":"00524000001tIB8AAM","Name":"Spoorlaan HUB","ProfileId":"00e24000000JFH3AAO"}|0x5306dd93
15:25:14.1 (44739512)|STATEMENT_EXECUTE|[14]
15:25:14.1 (44747413)|STATEMENT_EXECUTE|[21]
15:25:14.1 (44748654)|STATEMENT_EXECUTE|[22]
15:25:14.1 (44751396)|HEAP_ALLOCATE|[22]|Bytes:12
15:25:14.1 (44771652)|USER_DEBUG|[22]|DEBUG|for non acco
15:25:14.1 (44796536)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (44804099)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (44808329)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (44816777)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008S3WQAU","Account__c":"0010E000002eEwIQAU"}|0x6e2dd3a0
15:25:14.1 (44819264)|STATEMENT_EXECUTE|[23]
15:25:14.1 (44820580)|STATEMENT_EXECUTE|[24]
15:25:14.1 (44872260)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45040836)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008S3WQAU"|0x5090d4a7
15:25:14.1 (45046972)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45075176)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0x5090d4a7
15:25:14.1 (45109671)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIB8AAM"|0x5090d4a7
15:25:14.1 (45157345)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45169594)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45177888)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (45183182)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (45192832)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008S3bQAE","Account__c":"0010E000002eEwIQAU"}|0x6f7591ec
15:25:14.1 (45195665)|STATEMENT_EXECUTE|[23]
15:25:14.1 (45196963)|STATEMENT_EXECUTE|[24]
15:25:14.1 (45218303)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45252705)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008S3bQAE"|0x5b6ae1ba
15:25:14.1 (45273704)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0x5b6ae1ba
15:25:14.1 (45295595)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIB8AAM"|0x5b6ae1ba
15:25:14.1 (45307013)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45315835)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45322820)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (45327104)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (45334656)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008ahlQAA","Account__c":"0010E000002eEwIQAU"}|0x3eef5bfb
15:25:14.1 (45336947)|STATEMENT_EXECUTE|[23]
15:25:14.1 (45338241)|STATEMENT_EXECUTE|[24]
15:25:14.1 (45353698)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45382896)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008ahlQAA"|0x5fb81060
15:25:14.1 (45402733)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0x5fb81060
15:25:14.1 (45423474)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIB8AAM"|0x5fb81060
15:25:14.1 (45433160)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45441525)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45449496)|VARIABLE_ASSIGNMENT|[23]|pr|null|
15:25:14.1 (45455410)|HEAP_ALLOCATE|[14]|Bytes:5
15:25:14.1 (45470182)|HEAP_ALLOCATE|[14]|Bytes:16
15:25:14.1 (45474736)|VARIABLE_SCOPE_BEGIN|[14]|user|User|true|false
15:25:14.1 (45484035)|VARIABLE_ASSIGNMENT|[14]|user|{"Id":"00524000001tIBIAA2","Name":"Duncan Bos Otten","ProfileId":"00e24000000JFH3AAO"}|0x9dbd2dc
15:25:14.1 (45486954)|STATEMENT_EXECUTE|[14]
15:25:14.1 (45492113)|STATEMENT_EXECUTE|[21]
15:25:14.1 (45493244)|STATEMENT_EXECUTE|[22]
15:25:14.1 (45502296)|USER_DEBUG|[22]|DEBUG|for non acco
15:25:14.1 (45517186)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45523204)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (45526472)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (45533091)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008S3WQAU","Account__c":"0010E000002eEwIQAU"}|0x6e2dd3a0
15:25:14.1 (45535555)|STATEMENT_EXECUTE|[23]
15:25:14.1 (45536648)|STATEMENT_EXECUTE|[24]
15:25:14.1 (45552965)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45583448)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008S3WQAU"|0x1d67328e
15:25:14.1 (45603067)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0x1d67328e
15:25:14.1 (45624975)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIBIAA2"|0x1d67328e
15:25:14.1 (45635178)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45643538)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45649998)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (45653732)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (45660102)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008S3bQAE","Account__c":"0010E000002eEwIQAU"}|0x6f7591ec
15:25:14.1 (45662337)|STATEMENT_EXECUTE|[23]
15:25:14.1 (45663465)|STATEMENT_EXECUTE|[24]
15:25:14.1 (45677650)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45706395)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008S3bQAE"|0x118c67a9
15:25:14.1 (45726517)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0x118c67a9
15:25:14.1 (45747030)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIBIAA2"|0x118c67a9
15:25:14.1 (45755549)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45763800)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45770139)|HEAP_ALLOCATE|[23]|Bytes:12
15:25:14.1 (45773988)|VARIABLE_SCOPE_BEGIN|[23]|pr|Projecten__c|true|false
15:25:14.1 (45780089)|VARIABLE_ASSIGNMENT|[23]|pr|{"Id":"a0q0E0000008ahlQAA","Account__c":"0010E000002eEwIQAU"}|0x3eef5bfb
15:25:14.1 (45782236)|STATEMENT_EXECUTE|[23]
15:25:14.1 (45783381)|STATEMENT_EXECUTE|[24]
15:25:14.1 (45797291)|HEAP_ALLOCATE|[24]|Bytes:4
15:25:14.1 (45824979)|VARIABLE_ASSIGNMENT|[24]|this.ParentId|"a0q0E0000008ahlQAA"|0xea85ee8
15:25:14.1 (45845030)|VARIABLE_ASSIGNMENT|[24]|this.AccessLevel|"Edit"|0xea85ee8
15:25:14.1 (45865638)|VARIABLE_ASSIGNMENT|[24]|this.UserOrGroupId|"00524000001tIBIAA2"|0xea85ee8
15:25:14.1 (45874568)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:4
15:25:14.1 (45882856)|HEAP_ALLOCATE|[23]|Bytes:5
15:25:14.1 (45890609)|VARIABLE_ASSIGNMENT|[23]|pr|null|
15:25:14.1 (45895933)|HEAP_ALLOCATE|[14]|Bytes:5
15:25:14.1 (45900820)|VARIABLE_ASSIGNMENT|[14]|user|null|
15:25:14.1 (45903054)|STATEMENT_EXECUTE|[28]
15:25:14.1 (45930208)|HEAP_ALLOCATE|[28]|Bytes:1
15:25:14.1 (46034613)|HEAP_ALLOCATE|[28]|Bytes:600
15:25:14.1 (46047179)|HEAP_ALLOCATE|[28]|Bytes:602
15:25:14.1 (46056246)|USER_DEBUG|[28]|DEBUG|6 (Projecten__Share:{ParentId=a0q0E0000008S3WQAU, AccessLevel=Edit, UserOrGroupId=00524000001tIB8AAM}, Projecten__Share:{ParentId=a0q0E0000008S3bQAE, AccessLevel=Edit, UserOrGroupId=00524000001tIB8AAM}, Projecten__Share:{ParentId=a0q0E0000008ahlQAA, AccessLevel=Edit, UserOrGroupId=00524000001tIB8AAM}, Projecten__Share:{ParentId=a0q0E0000008S3WQAU, AccessLevel=Edit, UserOrGroupId=00524000001tIBIAA2}, Projecten__Share:{ParentId=a0q0E0000008S3bQAE, AccessLevel=Edit, UserOrGroupId=00524000001tIBIAA2}, Projecten__Share:{ParentId=a0q0E0000008ahlQAA, AccessLevel=Edit, UserOrGroupId=00524000001tIBIAA2})
15:25:14.1 (46063868)|STATEMENT_EXECUTE|[29]
15:25:14.1 (46109457)|DML_BEGIN|[29]|Op:Insert|Type:Projecten__Share|Rows:6
15:25:14.1 (46135663)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:28
15:25:14.1 (121412737)|DML_END|[29]
15:25:14.1 (121492538)|HEAP_ALLOCATE|[EXTERNAL]|Bytes:28
15:25:14.124 (124014575)|CUMULATIVE_LIMIT_USAGE
15:25:14.124 (124014575)|LIMIT_USAGE_FOR_NS|(default)|
  Number of SOQL queries: 2 out of 100
  Number of query rows: 5 out of 50000
  Number of SOSL queries: 0 out of 20
  Number of DML statements: 1 out of 150
  Number of DML rows: 6 out of 10000
  Maximum CPU time: 0 out of 10000
  Maximum heap size: 0 out of 6000000
  Number of callouts: 0 out of 100
  Number of Email Invocations: 0 out of 10
  Number of future calls: 0 out of 50
  Number of queueable jobs added to the queue: 0 out of 50
  Number of Mobile Apex push calls: 0 out of 10

15:25:14.124 (124014575)|CUMULATIVE_LIMIT_USAGE_END

15:25:14.1 (124060053)|CODE_UNIT_FINISHED|execute_anonymous_apex
15:25:14.1 (124863031)|EXECUTION_FINISHED
